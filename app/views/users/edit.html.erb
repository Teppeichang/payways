<%= render partial: "posts/header" %>

<h1 class="edit-head">ユーザー情報の編集</h1>
<div class="user-edit-container">
  <%= form_with model: current_user, local: true do |form| %>
    <div class="user-edit-error">
      <%= flash.now[:alert] %>
    </div>
    <div class="user-edit-profile">
      <div class="edit-profile-image">
        <p>プロフィール画像</p>
        <%= form.file_field :image %>
        <div id="image-list"></div>
      </div>
      <div class="edit-user-name">
        <p>ユーザー名（必須）</p>
        <%= form.text_field :name %>
      </div>
      <div class="edit-email">
        <p>登録メールアドレス（必須）</p>
        <%= form.text_field :email %>
      </div>
      <div class="fav-shop">
        <p>好きなお店・ジャンル</p>
        <%= form.text_field :favorite_shop %>
      </div>
      <div class="living-area">
        <p>お住まいの地域</p>
        <%= form.collection_select(:prefecture_id, Prefecture.all, :id, :name, {}, {class:"living-area-select"}) %>
      </div>
      <div class="introduce">
        <p>自己紹介</p>
        <%= form.text_area :introduce %>
      </div>
    </div>
    <div class="user-edit">
      <%= form.submit "更新", class:"btn user-edit-btn" %>
    </div>
    <div class="user-destroy">
      <%= link_to "退会する", user_path(current_user.id), method: :delete, "data-confirm"=>"本当に退会しますか？", class:"btn user-destroy-btn" %>
    </div>
  <% end %>
</div>